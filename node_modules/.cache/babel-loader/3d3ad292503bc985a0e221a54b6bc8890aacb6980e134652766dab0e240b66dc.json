{"ast":null,"code":"import _toConsumableArray from\"/Users/carmencouzyn/Projects/image-twin/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/carmencouzyn/Projects/image-twin/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/carmencouzyn/Projects/image-twin/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/carmencouzyn/Projects/image-twin/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/carmencouzyn/Projects/image-twin/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/carmencouzyn/Projects/image-twin/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import'./style/index.css';import UploadIcon from'./img/upload.svg';import DeleteIcon from'./img/delete.svg';import ImageEditor from'./components/ImageEditor';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.handleUpload=function(e){var image={src:'',width:0,height:0};image.src=URL.createObjectURL(e.target.files[0]);var objectUrl=URL.createObjectURL(e.target.files[0]);var imageEl=new Image();imageEl.src=objectUrl;imageEl.onload=function(){image.width=this.width;image.height=this.height;};_this.setState({imageSources:[].concat(_toConsumableArray(_this.state.imageSources),[image])});e.target.value=\"\";};_this.deleteImage=function(image){var filteredImageSources=_this.state.imageSources.filter(function(src){return src!==image;});_this.setState({imageSources:filteredImageSources});URL.revokeObjectURL(image);};_this.state={imageSources:[]};_this.handleUpload=_this.handleUpload.bind(_assertThisInitialized(_this));_this.deleteImage=_this.deleteImage.bind(_assertThisInitialized(_this));return _this;}/* \n  ------  FILE UPLOAD -------\n      * reads file stream\n      * renders image\n      * creates image object with source and dimensions\n      * adds object to store    \n   */_createClass(App,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[this.state.imageSources.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\" Image \",index+1,\" \"]}),/*#__PURE__*/_jsx(ImageEditor,{image:item,index:index}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:function onClick(){return _this2.deleteImage(item);},\"aria-label\":\"delete\",children:/*#__PURE__*/_jsx(\"img\",{src:DeleteIcon,alt:\"an icon showing a trash can\"})})]},index);}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"label\",{id:\"upload-image-button\",htmlFor:\"file\",children:[/*#__PURE__*/_jsx(\"img\",{src:UploadIcon,alt:\"an icon showing an upload symbol\"}),\"Add new Image\",/*#__PURE__*/_jsx(\"input\",{onChange:this.handleUpload,type:\"file\",accept:\"image/jpeg, image/png\",name:\"image\",id:\"file\"})]})})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"names":["React","UploadIcon","DeleteIcon","ImageEditor","App","props","handleUpload","e","image","src","width","height","URL","createObjectURL","target","files","objectUrl","imageEl","Image","onload","setState","imageSources","state","value","deleteImage","filteredImageSources","filter","revokeObjectURL","bind","map","item","index","Component"],"sources":["/Users/carmencouzyn/Projects/image-twin/src/App.js"],"sourcesContent":["import React from 'react'\nimport './style/index.css';\nimport UploadIcon from './img/upload.svg'\nimport DeleteIcon from './img/delete.svg'\nimport ImageEditor from './components/ImageEditor';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = { imageSources: [] }\n\n    this.handleUpload = this.handleUpload.bind(this)\n    this.deleteImage = this.deleteImage.bind(this)\n  }\n\n  /* \n  ------  FILE UPLOAD -------\n      * reads file stream\n      * renders image\n      * creates image object with source and dimensions\n      * adds object to store    \n   */\n  handleUpload = (e) => {\n    var image = { src: '', width: 0, height: 0 }\n    image.src = URL.createObjectURL(e.target.files[0])\n    var objectUrl = URL.createObjectURL(e.target.files[0])\n    var imageEl = new Image()\n    imageEl.src = objectUrl\n    imageEl.onload = function () {\n      image.width = this.width\n      image.height = this.height\n    }\n\n    this.setState({ imageSources: [...this.state.imageSources, image] })\n    e.target.value = \"\"\n  }\n\n  /*\n  ------  DELETE IMAGE -------\n      * delets image pbject from store\n  */\n  deleteImage = (image) => {\n    var filteredImageSources = this.state.imageSources.filter(src => {\n      return src !== image\n    })\n    this.setState({ imageSources: filteredImageSources })\n    URL.revokeObjectURL(image)\n  }\n\n\n  render() {\n    return (\n      <div className=\"App\">\n\n        {/*---- LIST OF IMAGE EDITORS ---- */}\n        {this.state.imageSources.map((item, index) => {\n          return (\n            <div className=\"container\" key={index}>\n              <h1> Image {(index + 1)} </h1>\n              <ImageEditor image={item} index={index} />\n              <button className=\"delete-btn\" onClick={() => this.deleteImage(item)} aria-label=\"delete\">\n                <img src={DeleteIcon} alt=\"an icon showing a trash can\" />\n              </button>\n            </div>\n          )\n        })}\n\n        {/*---- UPLOAD IMAGE BUTTON ---- */}\n        <form>\n          <label id=\"upload-image-button\" htmlFor=\"file\">\n            <img src={UploadIcon} alt=\"an icon showing an upload symbol\" />\n            Add new Image\n\n            {/* hidden  */}\n            <input onChange={this.handleUpload} type=\"file\" accept=\"image/jpeg, image/png\" name=\"image\" id=\"file\" />\n         \n          </label>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}